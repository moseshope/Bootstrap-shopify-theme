{% render 'page-header' title: collection.title description: collection.description %}

<div class="template-collection">
  <div class="container">
    {%- paginate collection.products by 12 -%}
      <div class="row">
        {%- for product in collection.products -%}
          <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
            <div class="template-collection__card card">
              <img class="template-collection__image card-img-top" src="{{ product.featured_image.src | img_url: '450x450', crop: 'center' }}" width="450" height="450" alt="{{product.title}}"/>
              <div class="template-collection__card-body card-body">
                <div class="template-collection__card-info">
                  <h5 class="card-title">{{ product.title }}</h5>
                  <p class="card-text">{{ product.description | strip_html | truncate: 50 }}</p>

                </div>
                <h5 class="text-danger mb-3">
                  {%- if product.price_varies -%}
                    <span>Starting at</span>
                    {{ product.price_min | money_without_trailing_zeros }}
                    <span aria-hidden="true">+</span>
                  {%- else -%}
                    {{ product.price | money_without_trailing_zeros }}
                  {%- endif -%}
                </h5>

                <a class="btn btn-primary btn-block" href="{{ product.url | within: collection }}">View</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
      {% render 'pagination' paginate: paginate %}
    {%- endpaginate -%}
  </div>
</div>
<!-- /.template-collection -->